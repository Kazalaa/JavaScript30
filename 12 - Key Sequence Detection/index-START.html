<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Key Detection</title>
  <link rel="stylesheet" href="style.css">
  <script type="text/javascript" src="https://www.cornify.com/js/cornify.js"></script>
</head>
<body>
  <div id="scroll-container">
    <div class='scroll-text'>- Type the konami code -
      <span class='scroll-text margin'>- Type the konami code -</span>
      <span class='scroll-text margin'>- Type the konami code -</span>
      <span class='scroll-text margin'>- Type the konami code -</span>
      <span class='scroll-text margin'>- Type the konami code -</span>
      <span class='scroll-text margin'>- Type the konami code -</span>
    </div>
  </div>
<script>
  // const pressed = [];
  // const secretCode = ['ArrowUp', 'ArrowUp', 'ArrowDown', 'ArrowDown', 'ArrowLeft', 'ArrowRight', 'ArrowLeft', 'ArrowRight', 'b', 'a'];

  // window.addEventListener('keyup', (e) => {
  //   console.log(e.key);
  //   pressed.push(e.key);
  //   pressed.splice(-secretCode.length - 1, pressed.length - secretCode.length);
  //   if(pressed.join('').includes(secretCode)){
  //     console.log('Well Played')
  //     cornify_add();
  //   }
  //   console.log(pressed);
  // })

  const pattern = ['ArrowUp', 'ArrowUp', 'ArrowDown', 'ArrowDown', 'ArrowLeft', 'ArrowRight', 'ArrowLeft', 'ArrowRight', 'b', 'a'];
  let current = 0;
  function keyHandler(event) {
    // If the key isn't in the pattern, or isn't the current key in the pattern, reset
    if (pattern.indexOf(event.key) < 0 || event.key !== pattern[current]) {
      current = 0;
      return;
    }
    // console.log(pattern);

    // Update how much of the pattern is complete
    current++;

    // If complete, alert and reset
    if (pattern.length === current) {
      current = 0;
      cornify_add();
      // window.alert('You found it!');
    }

  };
  document.addEventListener('keydown', keyHandler, false);
</script>
</body>
</html>
